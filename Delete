#include <stdio.h>

int main() {
    int steps = 0, turns = 0;
    char command;

    printf("Willkommen beim Robotersteuerungsprogramm!\n");
    printf("Befehle: 's' (Schritt), 'd' (Drehung), 'q' (beenden)\n");

    while (command != 'q') {
        printf("Was soll der Roboter als nächstes tun?\n");
        scanf(" %c", &command);

        switch (command) {
            case 's':
                steps++;
                printf("Der Roboter geht einen Schritt nach vorne.\n");
                break;
            case 'd':
                turns++;
                printf("Der Roboter dreht sich um 90 Grad nach rechts.\n");
                break;
            case 'q':
                printf("Der Roboter wird beendet!\n");
                break;
            default:
                printf("Unbekannter Befehl, bitte versuchen Sie es erneut!\n");
                break;
        }

        if (steps == 5) {
            printf("Eine Wand ist im Weg! Soll der Roboter nach links oder rechts drehen? (l/r)\n");
            char direction;
            scanf(" %c", &direction);
            if (direction == 'l') {
                turns += 2; // Drehung um 180 Grad nach links
            } else if (direction == 'r') {
                // Keine zusätzliche Drehung notwendig
            } else {
                printf("Ungültige Richtung angegeben, Roboter wartet an Ort und Stelle.\n");
            }
            steps = 0; // Schritte werden zurückgesetzt, da der Roboter an einer Wand steht
        }
    }

    // Rückweg
    for (int i = 0; i < steps; i++) {
        printf("Soll der Roboter einen Schritt zurück machen? (y/n)\n");
        char answer;
        scanf(" %c", &answer);
        if (answer == 'y') {
            printf("Der Roboter geht einen Schritt zurück.\n");
        } else {
            printf("Der Roboter wartet an Ort und Stelle.\n");
        }
    }
    for (int i = 0; i < turns; i++) {
        printf("Der Roboter dreht sich um 90 Grad nach links.\n");
    }

    printf("Der Roboter ist zurück am Start!\n");

    return 0;
}
